<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.10/css/dataTables.bootstrap.min.css">
<link rel="stylesheet" href="styles/panel.css">
<script type="text/ng-template" id="switch">
    <h1>Project status</h1>
    <p>Change the project status from private to public after validation by administrators</p>
    <p>Once public, your project will be accessible to all visitors and the associated data can be reused by other users</p>
</script>
<img src="images/loading.gif" id="bgimg" alt="Loading" style="display:none;">
<!--#################################### Public page ###########################################-->
<div ng-if="dataset.owner != user.id && (dataset.status == 'public' || dataset.status == 'pending approval') ">

    <!--#################################### Create row ########################################-->
    <div class="row">

        <!--#################################### Project Main panel  ###################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->

        <div class='col-lg-8'>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    {{dataset.id}} - {{dataset.title}}
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Description</label>
                            <p ng-if="dataset.description == '' || dataset.description == undefined">No description available</p>
                            <p ng-if="dataset.description != ''">{{dataset.description}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Overall design</label>
                            <p ng-if="dataset.overalldesign == '' || dataset.overalldesign == undefined">No design available</p>
                            <p ng-if="dataset.overalldesign != ''">{{dataset.overalldesign}}</p>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <p ng-if="dataset.result == '' || dataset.result == undefined">No result(s) available</p>
                            <p ng-if="dataset.result != ''">{{dataset.result}}</p>
                        </div>

                    </div>
                </div>
                <div class="panel-footer">
                    <label>Pubmed link(s)</label>
                    <div  class="row">
                        <div ng-repeat="pub in dataset.pubmed" class="col-md-6 col-xs-6">
                            <a ng-href="http://www.ncbi.nlm.nih.gov/pubmed/{{pub}}">{{pub}}</a>
                        </div>
                    </div>
                    <label>Crosslink(s)</label>
                    <div ng-repeat="lin in dataset.ext_link" class="row">
                        <div class="col-md-12 col-xs-12">
                            <a href="{{lin}}">{{lin}}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--#################################### Project End Main panel  ###############################-->




        <!--#################################### Project Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #u are here#
                    #                        #  #          #
                    ##########################  ############
        -->
        <div class='col-lg-4'>
            <div class="panel panel-primary text-center no-boder" style="background-color: #325d88;border-color: #ffffff;">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-primary text-center no-boder" style="background-color: #325d88;border-style: none;">
                                <h3 style="color: white;">About project</h3>
                                <div class="row">
                                    <div class="col-md-6 ">
                                        <label class="control-label"  style="color: white;">Study number</label>
                                        <p style="color: white;">{{dataset.studies.length}}</p>
                                    </div>
                                    <div class="col-md-6 ">
                                        <label class="control-label"  style="color: white;">Last update</label>
                                        <p style="color: white;">{{convert_timestamp_to_date(dataset.last_updated)}}</p>
                                    </div>                
                                </div>
                                <div class="row">
                                    <div class="col-md-6 ">
                                        <label class="control-label"  style="color: white;">Author</label>
                                        <p style="color: white;">{{dataset.authors}}</p>
                                    </div>
                                    <div class="col-md-6 ">
                                        <label class="control-label"  style="color: white;" >Contributors</label>
                                        <p style="color: white;" ng-repeat="contrib in dataset.contributors">{{contrib}}</p>
                                    </div>                
                                </div>
                            </div>
                        </div>

                        <div ng-repeat='study in dataset.studies' class="col-md-6">
                            <a style="text-decoration: none;color: black;" data-toggle="collapse" data-parent="#accordion" href="#{{study.id}}" target="_self" ng-click="getInfo(dataset,study.id)" target='_self'>
                                <div class="panel panel-primary text-center no-boder bg-color-blue ">
                                    <div class="panel-body boxstud">
                                        <i id="{{study.id}}_folder" class="fa fa-folder fa-2x"></i>
                                        <p ng-if="study.type == 'observational'">{{study.id}} - {{study.observational_title}} </p>
                                        <p ng-if="study.type == 'interventional'" >{{study.id}} - {{study.interventional_title}} </p>
                                    </div>
                                    <div class="panel-footer back-footer-blue">
                                        {{study.type}}
                                    </div>
                                </div>
                            </a>
                            
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        <!--####################################  End Project Secondary panel  ##########################-->

    </div>
    <!--#################################### END create row project ####################################-->


    <!--####################################  create row STUDIES ENV ####################################-->
    <div class="row panel-collapse collapse" ng-repeat="study in :: dataset.studies" id="{{study.id}}" ng-if="study.type == 'observational'">

        <!--####################################  Main col  STUDIES ENV ####################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #                        #  #    panel #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info ENV   #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->
         <div class="row">
            <div class="panel panel-success">
                    <div class="panel-heading">
                        {{study.id}} - {{study.observational_title}}
                    </div>
                    <div class="panel-body">
        <div class='col-lg-8'>
            <div class="panel panel-success">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label"  for="description">Description</label>
                            <p ng-if="study.observational_description == '' || study.observational_description == undefined">No description available</p>
                            <p ng-if="study.observational_description != ''">{{study.observational_description}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Design</label>
                            <p ng-if="study.observational_overalldesign == '' || study.observational_overalldesign == undefined">No design available</p>
                            <p ng-if="study.observational_overalldesign != ''">{{study.observational_overalldesign}}</p>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <p ng-if="study.observational_results == '' || study.observational_results == undefined">No result(s) available</p>
                            <p ng-if="study.observational_results != ''">{{study.observational_results}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Organism</label>
                            <p ng-if="study.observational_organism == '' || study.observational_organism == undefined">No organism available</p>
                            <p ng-if="study.observational_organism != ''">{{study.observational_organism}}</p>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Population size</label>
                            <p ng-if="study.observational_population_size == '' || study.observational_population_size == undefined">No population size available</p>
                            <p ng-if="study.observational_population_size != ''">{{study.observational_population_size}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Inclusion period</label>
                            <p ng-if="study.observational_inclusion_period == '' || study.observational_inclusion_period == undefined">No inclusion period available</p>
                            <p ng-if="study.observational_inclusion_period != ''">{{study.observational_inclusion_period}}</p>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Inclusion</label>
                            <p ng-if="study.observational_inclusion == '' || study.observational_inclusion == undefined">No inclusion available</p>
                            <p ng-if="study.observational_inclusion != ''">{{study.observational_inclusion}}</p>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Exclusion</label>
                            <p ng-if="study.observational_exclusion == '' || study.observational_exclusion == undefined">No exclusion available</p>
                            <p ng-if="study.observational_exclusion != ''">{{study.observational_exclusion}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Follow up</label>
                            <p ng-if="study.observational_followup == '' || study.observational_followup == undefined">No follow up available</p>
                            <p ng-if="study.observational_followup != ''">{{study.observational_followup}}</p>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Adjustments</label>
                            <p ng-if="study.observational_adjustment == '' || study.observational_adjustment == undefined">No adjustments available</p>
                            <p ng-if="study.observational_adjustment != ''">{{study.observational_adjustment}}</p>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <label>Pubmed link(s)</label>
                    <div  class="row">
                        <div class="col-md-6 col-xs-6">
                            <a ng-href="http://www.ncbi.nlm.nih.gov/pubmed/{{study.observational_pmid}}">{{study.observational_pmid}}</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  Main col  STUDIES ENV ####################################-->

        <!--#################################### Project Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #          #
                    #                        #  #          #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info ENV   #  #    here  #
                    #                        #  #          #
                    ##########################  ############
        -->
        <div class='col-lg-4' id="{{study.id}}_secpanel">
            <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                <h3 style="color: white;">About study</h3>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Study type</label>
                                        <p style="color: white;">{{study.type}}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Author</label>
                                        <p style="color: white;">{{study.observational_authors}}</p>
                                    </div>                
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Condition number</label>
                                        <p style="color: white;">{{study.conditions.length}}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;" >Signature number</label>
                                        <p style="color: white;">{{study.signatures.length}}</p>
                                    </div>                
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label" style="color: white;">Tested chemical(s)</label>
                            <table class="table table-bordered">
                                <tr>
                                    <th style="color: white;text-align: center;">Chemical Name</th>
                                    <th style="color: white;text-align: center;">CAS number</th>
                                </tr>
                                <tr ng-repeat="obj in chemInfo" >
                                    <td style="color: white;">{{obj.name}}</td>
                                    <td style="color: white;">{{obj.cas}}</td>
                                </tr>
                            </table>
                        </div>   
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  End Project Secondary panel  ##########################-->

        <div class ="row" ng-repeat="sign in :: study.signatures" id="{{study.id}}_sign" ng-if="study.type == 'observational'">
            <div class="col-lg-12">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                            <a data-toggle="collapse" data-parent="#accordion" href="#{{sign.id}}" target="_self" class="collapsed" style="text-decoration: none; color:white;">({{study.id}}) {{sign.id}} - {{sign.title}} <i class="fa fa-plus pull-right" id="{{sign.id}}_icon" aria-hidden="true"></i></a>
                    </div>
                    <div id="{{sign.id}}" class="panel-collapse collapse">
                        <div class="panel-body" id="paneltable">
                            <div class="row">

                                <!--####################################  Signature ENV Main panel  ##########################-->
                                <div class='col-lg-8'>
                                    <div class="row">
                                        <div class="col-md-12" ng-repeat="cond in :: study.conditions" ng-if="sign.asso_cond == cond.id">
                                            <label class="control-label"  for="description">Condition - {{cond.title}}</label>
                                            <table ng-repeat="treatment in cond.treatment" ng-if="treatment.chemicals != {}" class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Population age</th>
                                                    <th style="text-align: center;">Sex</th>
                                                    <th style="text-align: center;">Geographic location</th>
                                                    <th style="text-align: center;">Reference</th>
                                                    <th style="text-align: center;">Matrice</th>
                                                    <th style="text-align: center;">Chemical</th>
                                                    <th style="text-align: center;">Dose</th>
                                                    <th style="text-align: center;">Exposure duration</th>
                                                    <th style="text-align: center;">Exposure frequency</th>
                                                    <th style="text-align: center;">Additional information</th>
                                                </tr>
                                                <tr ng-repeat="chem in treatment.chemicals">
                                                    <td><span ng-if="cond.population_age == undefined">No information available</span><span ng-if="cond.population_age != ''">{{cond.population_age}}</span></td>
                                                    <td><span ng-if="sign.sex == undefined">No information available</span><span ng-if="sign.sex != ''">{{sign.sex}}</span></td>
                                                    <td><span ng-if="cond.location == undefined">No information available</span><span ng-if="cond.location != ''">{{cond.location}}</span></td>
                                                    <td><span ng-if="cond.ref == undefined">No information available</span><span ng-if="cond.ref != ''">{{cond.ref}}</span></td>
                                                    <td><span ng-if="cond.matrice == undefined">No information available</span><span ng-if="cond.matrice != ''">{{cond.matrice}}</span></td>
                                                    <td><span ng-if="chem.name == undefined">No information available</span><span ng-if="chem.name != ''">{{chem.name}}</span></td>
                                                    <td><span ng-if="chem.dose == undefined">No information available</span><span ng-if="chem.dose_unit != ''">{{chem.dose}} {{chem.dose_unit}}</span></td>
                                                    <td><span ng-if="chem.exposure_duration == undefined">No information available</span><span ng-if="chem.exposure_duration_unit != ''">{{chem.exposure_duration}} {{chem.exposure_duration_unit}}</span></td>
                                                    <td><span ng-if="chem.exposure_frequency == undefined">No information available</span><span ng-if="chem.exposure_frequency != ''">{{chem.exposure_frequency}}</span></td>
                                                    <td><span ng-if="chem.info == undefined">No information available</span><span ng-if="chem.info != ''">{{chem.info}}</span></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="sign.env.length != 0">
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Organism</label>
                                            <p ng-if="sign.organism == undefined">No organism available</p>
                                            <p ng-if="sign.organism != ''">{{sign.organism}}</p>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Tissue</label>
                                            <p ng-if="sign.tissue == undefined">No information available</p>
                                            <p ng-if="sign.tissue != ''">{{sign.tissue}}</p>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Developmental stage</label>
                                            <p ng-if="sign.devstage == undefined">No information available</p>
                                            <p ng-if="sign.devstage != ''">{{sign.devstage}}</p>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Generation</label>
                                            <p ng-if="sign.generation == undefined">No information available</p>
                                            <p ng-if="sign.generation != ''">{{sign.generation}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.env.length != 0" ng-repeat="env in sign.env">
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Outcome</label>
                                            <p ng-if="env.outcome == undefined">No information available</p>
                                            <p ng-if="env.outcome != ''">{{env.outcome}}</p>
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Observed effects</label>
                                            <p ng-if="env.obs_effect == undefined">No information available</p>
                                            <p ng-if="env.obs_effect != ''">{{env.obs_effect}}</p>
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Statistical significance</label>
                                            <p ng-if="env.statsign == undefined">No information available</p>
                                            <p ng-if="env.statsign != ''">{{env.statsign}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.env.length != 0" ng-repeat="env in sign.env">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Additional information</label>
                                            <p ng-if="env.expe_info == undefined">No information available</p>
                                            <p ng-if="env.expe_info != ''">{{env.expe_info}}</p>
                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <p ng-if="env.other_stat == undefined">No information available</p>
                                            <p ng-if="env.other_stat != ''">{{env.other_stat}}</p>
                                        </div>
                                    </div>
                                </div>
                                 <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Additional information</label>
                                        <a ng-if="sign.supfiles.length > 0" style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                <div class="panel-body ">
                                                    <i class="fa fa-file fa-2x"></i>
                                                    <a style="text-decoration: none;color: black;" ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,sign.supfiles,user.id)">{{sign.supfiles[0]}}</a>
                                                </div>
                                                <div class="panel-footer back-footer-blue">
                                                    Download additional file
                                                </div>
                                            </div>
                                        </a>
                                        <a ng-if="sign.supfiles.length = 0 || sign.supfiles == undefined" style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                <div class="panel-body ">
                                                    <i class="fa fa-file fa-2x"></i>
                                                    <a style="text-decoration: none;color: black;" ng-click="">No additional file</a>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                                <!--#################################### END Signature ENV Main panel  ##########################-->

                                <!--####################################  Signature ENV Secondary panel  ##########################-->
                                <div class='col-lg-4' id="{{study.id}}_sign_secpanel">
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">About signature</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Signature type</label>
                                                                        <p ng-if="sign.env.length != 0" style="color: white;">Environmental signature</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Organism</label>
                                                                        <p style="color: white;">{{sign.organism}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Tissue</label>
                                                                        <p style="color: white;">{{sign.tissue}}</p>
                                                                    </div>                
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Outcome</label>
                                                                        <p ng-if="env.outcome == undefined">No information available</p>
                                                                        <p ng-if="env.outcome != ''">{{env.outcome}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;" ></label>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;" ></label>
                                                                    </div>                   
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--####################################  END Signature ENV Secondary panel  ##########################-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  END Signature ENV upper panel  ##########################-->
        </div>
        </div>
        </div>



    </div>
    <!--####################################  End create row STUDIES ENV ####################################-->


    <!--####################################  create row STUDIES INT ####################################-->
    <div class="row panel-collapse collapse" ng-repeat="study in :: dataset.studies" id="{{study.id}}" ng-if="study.type == 'interventional'" id="{{sign.id}}" >

        <!--####################################  Main col  STUDIES INT ####################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #                        #  #    panel #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info INT   #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->
        <div class="row">
            <div class="panel panel-success">
                    <div class="panel-heading">
                        {{study.id}} - {{study.interventional_title}}
                    </div>
                    <div class="panel-body">
        <div class='col-lg-8'>
            <div class="panel panel-success">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Description</label>
                            <p ng-if="study.interventional_description == '' || study.interventional_description == undefined">No description available</p>
                            <p ng-if="study.interventional_description != ''">{{study.interventional_description}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Design</label>
                            <p ng-if="study.interventional_design == '' || study.interventional_design == undefined">No design available</p>
                            <p ng-if="study.interventional_design != ''">{{study.interventional_design}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <p ng-if="study.interventional_results == '' || study.interventional_results == undefined">No result(s) available</p>
                            <p ng-if="study.interventional_results != ''">{{study.interventional_results}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Additionnal information</label>
                            <p ng-if="study.interventional_information == '' || study.interventional_information == undefined">No additionnal information available</p>
                            <p ng-if="study.interventional_information != ''">{{study.interventional_information}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Organism</label>
                            <p ng-if="study.interventional_vivo.organism == undefined && study.interventional_exvivo.organism == undefined && study.interventional_vitro.organism == undefined&& study.interventional_other.organism == undefined">No organism available</p>
                            <p ng-if="study.interventional_vivo.organism != ''">{{study.interventional_vivo.organism}}</p>
                            <p ng-if="study.interventional_exvivo.organism != ''"> {{study.interventional_exvivo.organism}}</p>
                            <p ng-if="study.interventional_vitro.organism != ''">{{study.interventional_vitro.organism}} </p>
                            <p ng-if="study.interventional_other.organism != ''"> {{study.interventional_other.organism}}</p>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Sex</label>
                            <p ng-if="study.interventional_vivo.sex == undefined && study.interventional_exvivo.sex == undefined && study.interventional_vitro.sex == undefined&& study.interventional_other.sex == undefined">No sex information available</p>
                            <p ng-if="study.interventional_vivo.sex != ''">{{study.interventional_vivo.sex}}</p>
                            <p ng-if="study.interventional_exvivo.sex != ''"> {{study.interventional_exvivo.sex}}</p>
                            <p ng-if="study.interventional_vitro.sex != ''">{{study.interventional_vitro.sex}} </p>
                            <p ng-if="study.interventional_experimental_type == in_vitro && study.interventional_vitro.sex == undefined">No sex information available</p>
                            <p ng-if="study.interventional_other.sex != ''"> {{study.interventional_other.sex}}</p>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Developmental stage</label>
                            <p ng-if="study.interventional_vivo.devstage == undefined && study.interventional_exvivo.devstage == undefined && study.interventional_vitro.devstage == undefined&& study.interventional_other.devstage == undefined">No developmental stage information available</p>
                            <p ng-if="study.interventional_vivo.devstage != ''">{{study.interventional_vivo.devstage}}</p>
                            <p ng-if="study.interventional_exvivo.devstage != ''"> {{study.interventional_exvivo.devstage}}</p>
                            <p ng-if="study.interventional_vitro.devstage != ''">{{study.interventional_vitro.devstage}} </p>
                            <p ng-if="study.interventional_experimental_type == in_vitro && study.interventional_vitro.devstage == undefined">No developmental stage information available</p>
                            <p ng-if="study.interventional_other.devstage != ''"> {{study.interventional_other.devstage}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Tissue</label>
                            <p ng-if="study.interventional_vivo.tissue == undefined && study.interventional_exvivo.tissue == undefined && study.interventional_vitro.tissue == undefined&& study.interventional_other.tissue == undefined">No tissue information available</p>
                            <p ng-if="study.interventional_vivo.tissue != ''">{{study.interventional_vivo.tissue}}</p>
                            <p ng-if="study.interventional_experimental_type == in_vivo && study.interventional_vivo.tissue == undefined">No tissue information available</p>
                            <p ng-if="study.interventional_exvivo.tissue != ''"> {{study.interventional_exvivo.tissue}}</p>
                            <p ng-if="study.interventional_vitro.tissue != ''">{{study.interventional_vitro.tissue}} </p>
                            <p ng-if="study.interventional_other.tissue != ''"> {{study.interventional_other.tissue}}</p>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Generation</label>
                            <p ng-if="study.interventional_vivo.generation == undefined && study.interventional_exvivo.generation == undefined && study.interventional_vitro.generation == undefined&& study.interventional_other.generation == undefined">No generation information available</p>
                            <p ng-if="study.interventional_vivo.generation != ''">{{study.interventional_vivo.generation}}</p>
                            <p ng-if="study.interventional_experimental_type == in_vivo && study.interventional_vivo.generation == undefined">No generation information available</p>
                            <p ng-if="study.interventional_exvivo.generation != ''"> {{study.interventional_exvivo.generation}}</p>
                            <p ng-if="study.interventional_vitro.generation != ''">{{study.interventional_vitro.generation}} </p>
                            <p ng-if="study.interventional_other.generation != ''"> {{study.interventional_other.generation}}</p>
                        </div>
                        <div class="col-md-4 " ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                            <label class="control-label"  for="description">In vitro experiment type</label>
                            <p ng-if="study.interventional_other.experimental == undefined && study.interventional_vitro.experimental == undefined">No information available</p>
                            <p ng-if="study.interventional_other.experimental != ''">{{study.interventional_other.experimental}}</p>
                            <p ng-if="study.interventional_vitro.experimental != ''">{{study.interventional_vitro.experimental}}</p>
                        </div>
                    </div>
                    <div class="row" ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                        <div class="col-md-4 " ng-if="study.interventional_vitro.experimental =='cell_line' || study.interventional_other.experimental =='cell_line'">
                            <label class="control-label"  for="description">Cell line </label>
                            <p ng-if="study.interventional_other.cell_line == undefined && study.interventional_vitro.cell_line == undefined">No information available</p>
                            <p ng-if="study.interventional_other.cell_line != ''">{{study.interventional_other.experimental}}</p>
                            <p ng-if="study.interventional_vitro.cell_line != ''">{{study.interventional_vitro.experimental}}</p>
                        </div>
                        <div class="col-md-4" ng-if="study.interventional_vitro.experimental =='cell_line' || study.interventional_other.experimental =='cell_line'">
                            <label class="control-label"  for="description">Passage</label>
                            <p ng-if="study.interventional_other.cell_name == undefined && study.interventional_vitro.cell_name == undefined">No information available</p>
                            <p ng-if="study.interventional_other.cell_name != ''">{{study.interventional_other.passage}}</p>
                            <p ng-if="study.interventional_vitro.cell_name != ''">{{study.interventional_vitro.passage}}</p>
                        </div>
                    </div>
                    <div class="row" ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                        <div class="col-md-12 " ng-if="study.interventional_vitro.experimental =='primary_cell_culture' || study.interventional_other.experimental =='primary_cell_culture'">
                            <label class="control-label"  for="description">Cell name </label>
                            <p ng-if="study.interventional_other.cell_name == undefined && study.interventional_vitro.cell_name == undefined">No information available</p>
                            <p ng-if="study.interventional_other.cell_name != ''">{{study.interventional_other.cell_name}}</p>
                            <p ng-if="study.interventional_vitro.cell_name != ''">{{study.interventional_vitro.cell_name}}</p>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                </div>
            </div>
        </div>
        <!--#################################### END Main col  STUDIES INT  ##############################-->


        <!--#################################### Study INT Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #          #
                    #                        #  #          #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info INT   #  #    here  #
                    #                        #  #          #
                    ##########################  ############
        -->
        <div class='col-lg-4' id="{{study.id}}_secpanel">
            <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                <h3 style="color: white;">About study</h3>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Study type</label>
                                        <p style="color: white;">{{study.type}}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Experimental type</label>
                                        <p style="color: white;" ng-if="study.interventional_experimental_type == 'in_vivo'">In vivo</p>
                                        <p style="color: white;" ng-if="study.interventional_experimental_type == 'ex_vivo'">Ex vivo</p>
                                        <p style="color: white;" ng-if="study.interventional_experimental_type == 'in_vitro'">In vitro</p>
                                        <p style="color: white;" ng-if="study.interventional_experimental_type == 'other'">Other type</p>
                                    </div>                
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;">Condition number</label>
                                        <p style="color: white;">{{study.conditions.length}}</p>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="control-label"  style="color: white;" >Signature number</label>
                                        <p style="color: white;">{{study.signatures.length}}</p>
                                    </div>                
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label" style="color: white;">Tested chemical(s)</label>
                            <table class="table table-bordered">
                                <tr>
                                    <th style="color: white;text-align: center;">Chemical Name</th>
                                    <th style="color: white;text-align: center;">CAS number</th>
                                </tr>
                                <tr ng-repeat="obj in chemInfo" >
                                    <td style="color: white;">{{obj.name}}</td>
                                    <td style="color: white;">{{obj.cas}}</td>
                                </tr>
                            </table>
                        </div>   
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  End Study INT Secondary panel  ##########################-->


        <!--####################################  Signature upper panel  ##########################-->
        <div class ="row" ng-repeat="sign in :: study.signatures" id="{{study.id}}_sign" ng-if="study.type == 'interventional'">
            <div class="col-lg-12">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                            <a data-toggle="collapse" data-parent="#accordion" href="#{{sign.id}}" target="_self" class="collapsed" style="text-decoration: none; color:white;">({{study.id}}) {{sign.id}} - {{sign.title}} <i class="fa fa-plus pull-right" id="{{sign.id}}_icon" aria-hidden="true"></i></a>
                    </div>
                    <div id="{{sign.id}}" class="panel-collapse collapse">
                        <div class="panel-body" id="paneltable">
                            <div class="row">

                                <!--####################################  Signature Main panel  ##########################-->
                                <div class='col-lg-8'>
                                    <div class="row">
                                        <div class="col-md-12" ng-repeat="cond in :: study.conditions" ng-if="sign.asso_cond == cond.id">
                                            <label class="control-label"  for="description">Condition - {{cond.title}}</label>
                                            <table ng-repeat="treatment in cond.treatment" ng-if="treatment.chemicals != {}" class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">#</th>
                                                    <th style="text-align: center;">Chemical</th>
                                                    <th style="text-align: center;">Vehicle</th>
                                                    <th style="text-align: center;">Route</th>
                                                    <th style="text-align: center;">Dose</th>
                                                    <th style="text-align: center;">Exposure duration</th>
                                                    <th style="text-align: center;">Exposure frequency</th>
                                                    <th style="text-align: center;">Additional information</th>
                                                </tr>
                                                <tr ng-repeat="chem in treatment.chemicals">
                                                    <td>{{$index +1}}</td>
                                                    <td><span ng-if="chem.name == undefined">No information available</span><span ng-if="chem.name != ''">{{chem.name}}</span></td>
                                                    <td><span ng-if="chem.vehicle == undefined">No information available</span><span ng-if="chem.vehicle != ''">{{chem.vehicle}}</span></td>
                                                    <td><span ng-if="chem.route == undefined">No information available</span><span ng-if="chem.route != ''">{{chem.route}}</span></td>
                                                    <td><span ng-if="chem.dose == undefined">No information available</span><span ng-if="chem.dose_unit != ''">{{chem.dose}} {{chem.dose_unit}}</span></td>
                                                    <td><span ng-if="chem.exposure_duration == undefined">No information available</span><span ng-if="chem.exposure_duration_unit != ''">{{chem.exposure_duration}} {{chem.exposure_duration_unit}}</span></td>
                                                    <td><span ng-if="chem.exposure_frequency == undefined">No information available</span><span ng-if="chem.exposure_frequency != ''">{{chem.exposure_frequency}}</span></td>
                                                    <td><span ng-if="chem.info == undefined">No information available</span><span ng-if="chem.info != ''">{{chem.info}}</span></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    <!--#################################### Signature Physio ##########################-->
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="geno in sign.physio">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Experimental information</label>
                                            <p ng-if="physio.expe_info == undefined">No information available</p>
                                            <p ng-if="physio.expe_info != ''">{{physio.expe_info}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="physio in sign.physio">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Observed phenotype</label>
                                            <p ng-if="physio.asso == undefined">No phenotype available</p>
                                            <p ng-if="physio.asso != ''">{{physio.asso}}</p>
                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Effect</label>
                                            <p ng-if="physio.obs_effect == undefined">No information available</p>
                                            <p ng-if="physio.obs_effect != ''">{{physio.obs_effect}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="physio in sign.physio">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span ng-if ="physio.sample != ''">{{physio.sample}}</span>
                                                        <span ng-if ="physio.sample == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="physio.control != ''">{{physio.control}}</span>
                                                        <span ng-if ="physio.control == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="physio.pvalue != ''">{{physio.pvalue}}</span>
                                                        <span ng-if ="physio.pvalue == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="physio.statistical != ''">{{physio.statistical}}</span>
                                                        <span ng-if ="physio.statistical == ''">No information available</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature Physio ##########################-->

                                    <!--#################################### Signature mol ##########################-->
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecular">
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Extracted molecule</label>
                                            <p ng-if="mol.extractedmolecule == undefined">No information available</p>
                                            <p ng-if="mol.extractedmolecule != ''">{{mol.extractedmolecule}}</p>
                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Observed effect(s)</label>
                                            <p ng-if="mol.expe_info == undefined">No information available</p>
                                            <p ng-if="mol.expe_info != ''">{{mol.expe_info}}</p>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Effect</label>
                                            <p ng-if="mol.obs_effect == undefined">No information available</p>
                                            <p ng-if="mol.obs_effect != ''">{{mol.obs_effect}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecular">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Extraction protocol</label>
                                            <p ng-if="mol.extractproto == undefined">No information available</p>
                                            <p ng-if="mol.extractproto != ''">{{mol.extractproto}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecula">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span ng-if ="mol.sample != ''">{{mol.sample}}</span>
                                                        <span ng-if ="mol.sample == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="mol.control != ''">{{mol.control}}</span>
                                                        <span ng-if ="mol.control == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="mol.pvalue != ''">{{mol.pvalue}}</span>
                                                        <span ng-if ="mol.pvalue == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="mol.statistical != ''">{{mol.statistical}}</span>
                                                        <span ng-if ="mol.statistical == ''">No information available</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature mol ##########################-->

                                    <!--#################################### Signature gen ##########################-->
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Experimental information</label>
                                            <p ng-if="geno.expe_info == undefined || geno.expe_info == ''">No information available</p>
                                            <p ng-if="geno.expe_info != ''">{{geno.expe_info}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Technology</label>
                                            <p ng-if="geno.techno == undefined">No information available</p>
                                            <p ng-if="geno.techno != ''">{{geno.techno}}</p>
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Plateform</label>
                                            <p ng-if="geno.plateform == undefined">No information available</p>
                                            <p ng-if="geno.plateform != ''">{{geno.plateform}}</p>
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Genes identifier</label>
                                            <p ng-if="geno.obs_effect == undefined">No information available</p>
                                            <p ng-if="geno.obs_effect != ''"><span ng-if="geno.obs_effect == 'Entrez'">EntrezGene IDs</span></p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <span ng-if ="geno.sample != ''">{{geno.sample}}</span>
                                                        <span ng-if ="geno.sample == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="geno.control != ''">{{geno.control}}</span>
                                                        <span ng-if ="geno.control == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="geno.pvalue != ''">{{geno.pvalue}}</span>
                                                        <span ng-if ="geno.pvalue == ''">No information available</span>
                                                    </td>
                                                    <td>
                                                        <span ng-if ="geno.statistical != ''">{{geno.statistical}}</span>
                                                        <span ng-if ="geno.statistical == ''">No information available</span>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature gen ##########################-->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="control-label">Additional information</label>
                                            <a ng-if="sign.supfiles.length > 0" style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                    <div class="panel-body ">
                                                        <i class="fa fa-file fa-2x"></i><br>
                                                        <p>{{sign.supfiles[0]}}</p>
                                                    </div>
                                                    <div class="panel-footer back-footer-blue">
                                                        <button  type="button" class="btn btn-info" ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,sign.supfiles,user.id)">Download additional file</button>
                                                    </div>
                                                </div>
                                            </a>
                                            <div ng-if="sign.supfiles.length == 0 || sign.supfiles == undefined" class="panel panel-primary text-center no-boder bg-color-blue ">
                                                <div class="panel-body">
                                                    <i class="fa fa-file fa-2x"></i>
                                                </div>
                                                <div class="panel-footer back-footer-blue">
                                                   No additional files
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                                <!--#################################### END Signature Main panel  ##########################-->

                                <!--####################################  Signature Secondary panel  ##########################-->
                                <div class='col-lg-4' id="{{study.id}}_sign_secpanel">
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">About signature</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Signature type</label>
                                                                        <p ng-if="sign.genomic.length != 0" style="color: white;">Toxicogenomics signature</p>
                                                                        <p ng-if="sign.molecular.length != 0" style="color: white;">Molecular signature</p>
                                                                        <p ng-if="sign.physio.length != 0" style="color: white;">Physiological signature</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Organism</label>
                                                                        <p style="color: white;">{{sign.organism}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Tissue / Cell</label>
                                                                        <p style="color: white;">{{sign.tissue}}</p>
                                                                    </div>                
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Generation</label>
                                                                        <p style="color: white;">{{sign.generation}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Developmental stage</label>
                                                                        <p style="color: white;">{{sign.devstage}}</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0 ">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">Signatures</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_upward.txt') !== -1">
                                                                        <label class="control-label"  style="color: white;">Up-regulated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_upward.txt',user.id)">Download</a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_upward.txt') == -1">
                                                                        <label class="control-label"  style="color: white;">Up-regulated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="">No up-regulated genes </a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_downward.txt') !== -1">
                                                                        <label class="control-label"  style="color: white;">Down-regulated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_downward.txt',user.id)">Download</a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_downward.txt') == -1">
                                                                        <label class="control-label"  style="color: white;">Down-regulated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="">No down-regulated genes </a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_interrogated_genes.txt') !== -1">
                                                                        <label class="control-label"  style="color: white;">Interrogated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_interrogated_genes.txt',user.id)">Download</a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0 && sign.files.indexOf('genomic_interrogated_genes.txt') == -1">
                                                                        <label class="control-label"  style="color: white;">Interrogated genes list</label>
                                                                        <a style="text-decoration: none;color: black;" href="" ng-click="" target='_self'>
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <a  ng-click="">No interrogated genes</a>
                                                                                </div>
                                                                            </div>
                                                                        </a>
                                                                    </div>           
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0 ">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">Tools</h3>
                                                                <div class="row">
                                                                    <div class="col-md-6">
                                                                        <form style="margin-top:20px;">
                                                                            <ul class="list-inline pull-left">
                                                                                <li><button  type="button" class="btn btn-info" ng-click="functional(sign.id,dataset.id)">Functional analysis</button></li>
                                                                            </ul>
                                                                        </form>
                                                                    </div>
                                                                    <div class="col-md-6">
                                                                        <form style="margin-top:20px;">
                                                                            <ul class="list-inline pull-left">
                                                                                <li><button  type="button" class="btn btn-info" ng-click="dist(sign.id,dataset.id)">Distance analysis</button></li>
                                                                            </ul>
                                                                        </form>
                                                                    </div>     
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-4"></div>
                                                                    <div class="col-md-4">
                                                                        <form style="margin-top:20px;">
                                                                            <ul class="list-inline pull-left">
                                                                                <li><a  type="button" class="btn btn-info" ng-click="add_todash(sign.id,dataset)">+ dashboard</a></li>
                                                                            </ul>
                                                                        </form>
                                                                    </div>
                                                                    <div class="col-md-4"></div>
                                                                    
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--####################################  END Signature Secondary panel  ##########################-->
                            </div>
                        </div>
                        <div class="row" id="{{sign.id}}_functional" style="display:none;">
                            <div class="col-md-12">
                                <div  class="panel panel-info">
                                    <div class="panel-heading">
                                        <a style="color:white;" href="" ng-click="showDetails = ! showDetails" >({{study.id}} - {{sign.id}}) - Functional analysis {{sign.id}}</a>
                                    </div>
                                    <div class="panel-body" id="paneltable" ng-show="showDetails">

                                        <div  class="panel panel-info">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="bp = ! bp">Biological Process</a>
                                            </div>
                                            <div class="panel-body" id="bp" ng-show="bp">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="conditionTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-primary">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="cc = ! cc">Cellular component</a>
                                            </div>
                                            <div class="panel-body" id="cc" ng-show="cc">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="ccTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-warning">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="mf = ! mf">Molecular function</a>
                                            </div>
                                            <div class="panel-body" id="mf" ng-show="mf">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="MfTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-danger">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="ph = ! ph">Phenotypes</a>
                                            </div>
                                            <div class="panel-body" id="ph" ng-show="ph">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="dsTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" id="{{sign.id}}_dist" style="display:none;">
                            <div class="col-md-12">
                                <div  class="panel panel-info">
                                    <div class="panel-heading">
                                        <a style="color:white;" href="" ng-click="showDetails2 = ! showDetails2" >({{study.id}} - {{sign.id}}) - Distance analysis</a>
                                    </div>
                                    <div class="panel-body" id="paneltable" ng-show="showDetails2">
                                        <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                          <i class="glyphicon glyphicon-new-window"></i> Export
                                        </a>
                                        <table ng-table="distTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                            <tr ng-repeat="val in $data">
                                                <td data-title="'Signature'" filter="{Term: 'text'}"><a href="http://toxsign.genouest.org/app/#/browse?dataset={{val.project}}" target="_blank">{{val.Term}}</a></td>
                                                <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                <td data-title="'Pvalue'" sortable="'pval'">{{val.pval}}</td>
                                                <td data-title="'Zscore'" sortable="'zscore'">{{val.zscore}}</td>
                                                <td data-title="'Euclidean distance'" sortable="'euclid'">{{val.euclid}}</td>
                                                <td data-title="'Correlation coefficient'" sortable="'cor'">{{val.cor}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!--####################################  END Signature upper panel  ##########################-->
    </div>
    </div>
    </div>
    </div>



</div>
<!--#################################### End Public page #######################################-->


<!--#################################### Non authorized page #######################################-->
<div ng-if="dataset.owner != user.id && dataset.status == 'private'">
    <img src="images/modern_error_template.png">
</div>

<!--#################################### END Non authorized page #######################################-->










<!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################--><!--#################################### User page #######################################-->












<!--#################################### User page #######################################-->
<div ng-if="dataset.owner == user.id && dataset.status == 'private'">
        <!--#################################### Create row ########################################-->
    <div class="row">

        <!--#################################### Project Main panel  ###################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->

        <div class='col-lg-8'>
            <div class="panel panel-primary">
                <div class="panel-heading">
                    {{dataset.id}} - {{dataset.title}}
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Title</label>
                            <input ng-model="dataset.title" class="form-control" id="title"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Description</label>
                            <textarea  ng-model="dataset.description" class="form-control" id="description" placeholder="200-1000 words max" ></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Overall design</label>
                            <textarea  ng-model="dataset.overalldesign" class="form-control" id="overalldesign" placeholder="200-1000 words max" ></textarea>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <textarea  ng-model="dataset.result" class="form-control" id="overalldesign" placeholder="200-1000 words max" ></textarea>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                            <label>Pubmed link(s)</label>
                                <input class="form-control" ng-model="pubmu" id="pin"/>
                                <buton class="btn btn-success" style="margin-top:10px;" ng-click="add_pub(pubmu)">Add</button>
                            </div>
                        </div>
                        <div class="col-md-6" ng-repeat="pub in dataset.pubmed" >
                            <a ng-href="http://www.ncbi.nlm.nih.gov/pubmed/{{pub}}">{{pub}} <a href="" ng-click="del_pub(pub)"><i class="fa fa-times pull-right" aria-hidden="true" ></i></a></a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                            <label>Crosslink(s)</label>
                                <input class="form-control" ng-model="linku" id="lin"/>
                                <buton class="btn btn-success" style="margin-top:10px;" ng-click="add_link(linku)">Add</button>
                            </div>
                        </div>
                        <div class="col-md-6" ng-repeat="lin in dataset.ext_link" >
                            <a href="{{lin}}">{{lin}} <a href="" ng-click="del_link(lin)"><i class="fa fa-times pull-right" aria-hidden="true" ></i></a></a>
                        </div>
                    </div>
                    <div class="row">
                        <div ng-if="dataset.owner == user.id && dataset.status == 'private'" class="col-md-6">
                            <div class="form-group">
                                 <label>Contributor(s)</label>
                                <input id="dataset.contributor" class="form-control" type="text" data-ng-model="contributor"/>
                                <buton class="btn btn-success" style="margin-top:10px;" ng-click="add_contributors(contributor)">Add</button>
                            </div>
                        </div>
                        <div class="col-md-6" ng-repeat="contrib in dataset.contributors" >
                            <p>{{contrib}}<a ng-if="dataset.owner == user.id && dataset.status == 'private'" href="" ng-click="del_contributor(contrib)"><i class="fa fa-times pull-right" aria-hidden="true" ></i></a></p>
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                </div>
            </div>
        </div>
        <!--#################################### Project End Main panel  ###############################-->




        <!--#################################### Project Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #u are here#
                    #                        #  #          #
                    ##########################  ############
        -->
        <div class='col-lg-4'>
            <div class="row">
                <div class='col-lg-12'> 
                    <div class="panel panel-primary text-center no-boder" style="background-color: #325d88;border-color: #ffffff;">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-primary text-center no-boder" style="background-color: #325d88;border-style: none;">
                                        <h3 style="color: white;">About project</h3>
                                        <div class="row">
                                            <div class="col-md-6 ">
                                                <label class="control-label"  style="color: white;">Study number</label>
                                                <p style="color: white;">{{dataset.studies.length}}</p>
                                            </div>
                                            <div class="col-md-6 ">
                                                <label class="control-label"  style="color: white;">Last update</label>
                                                <p style="color: white;">{{convert_timestamp_to_date(dataset.last_updated)}}</p>
                                            </div>                
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6 ">
                                                <label class="control-label"  style="color: white;">Author</label>
                                                <p style="color: white;">{{dataset.authors}}</p>
                                            </div>
                                            <div class="col-md-6 ">
                                                <label class="control-label"  style="color: white;" >Status</label>
                                                <p style="color: white;" ng-repeat="contrib in dataset.contributors">{{contrib}}</p>
                                            </div>                
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label style="color:white;" class="control-label " for="status">Status</label><a href="" ng-click='open_info("switch")'><i class="fa fa-info-circle pull-right" style="color:white;"></i></a>
                                    <input ng-model="dataset.status" class="form-control" id="status" disabled/>
                                    <button ng-if="can_edit()" type="button" class="btn btn-danger" style="margin-top:15px;margin-bottom: 10px" ng-click="to_public()">Switch to public</button>   
                                </div>
                            </div>
                            <div class="row">
                                <div ng-repeat='study in dataset.studies' class="col-md-6">
                                    <a style="text-decoration: none;color: black;" data-toggle="collapse" data-parent="#accordion" href="#{{study.id}}" target="_self" ng-click="getInfo(dataset,study.id)" target='_self'>
                                        <div class="panel panel-primary text-center no-boder bg-color-blue ">
                                            <div class="panel-body boxstud">
                                                <i id="{{study.id}}_folder" class="fa fa-folder fa-2x"></i>
                                                <p ng-if="study.type == 'observational'">{{study.id}} - {{study.observational_title}} </p>
                                                <p ng-if="study.type == 'interventional'" >{{study.id}} - {{study.interventional_title}} </p>
                                            </div>
                                            <div class="panel-footer back-footer-blue">
                                                {{study.type}}
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>
                <div class='col-lg-12'>
                    <div class="panel panel-primary text-center no-boder" style="background-color: #325d88;border-color: #ffffff;">
                        <div class="panel-body">
                            <h3 style="color: white;">Action</h3>
                            <div class="row">
                                <div class="col-md-4 ">
                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="dataset_update()">Update</button>
                                </div>
                                <div class="col-md-4 ">
                                    <button ng-if="can_edit()" type="button" class="btn btn-warning" ng-click="treatment_add(dataset)">Add Study</button>
                                </div> 
                                <div class="col-md-4 ">
                                    <button ng-if="can_edit()" type="button" class="btn btn-danger" ng-click="project_del(dataset)">Delete project</button>
                                </div>                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  End Project Secondary panel  ##########################-->

    </div>
    <!--#################################### END create row project ####################################-->


    <!--####################################  create row STUDIES ENV ####################################-->
    <div class="row panel-collapse collapse" ng-repeat="study in :: dataset.studies" id="{{study.id}}" ng-if="study.type == 'observational'">

        <!--####################################  Main col  STUDIES ENV ####################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #                        #  #    panel #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info ENV   #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->
         <div class="row">
            <div class="panel panel-success">
                    <div class="panel-heading">
                        {{study.id}} - {{study.observational_title}}
                    </div>
                    <div class="panel-body">
        <div class='col-lg-8'>
            <div class="panel panel-success">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label"  for="description">Title</label>
                            <input class="form-control" ng-model="study.observational_title" />
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <label class="control-label"  for="description">Description</label>
                            <textarea  ng-model="study.observational_description" class="form-control" id="description" placeholder="200-1000 words max" ></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Design</label>
                            <textarea  ng-model="study.observational_overalldesign" class="form-control" id="description" placeholder="200-1000 words max" ></textarea>
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <textarea  ng-model="study.observational_results" class="form-control" id="description" placeholder="200-1000 words max" ></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Organism</label>
                            <input class="form-control" id="organism_vivo" type="text" ng-model="study.observational_organism" placeholder="Species"
                            typeahead-min-length="4" typeahead-on-select="selectorga(study,$item, $model,
                            $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                            class="form-control" >
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Population size</label>
                            <input ng-model="study.observational_population_size" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Inclusion period</label>
                            <input ng-model="study.observational_inclusion_period" class="form-control">
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Inclusion</label>
                            <input ng-model="study.observational_inclusion" class="form-control">
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Exclusion</label>
                            <input ng-model="study.observational_exclusion" class="form-control">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label class="control-label"  for="description">Follow up</label>
                            <input ng-model="study.observational_followup" class="form-control">
                        </div>
                        <div class="col-md-6 ">
                            <label class="control-label"  for="description">Adjustments</label>
                            <input ng-model="study.observational_adjustment" class="form-control">
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                    <label>Pubmed link(s)</label>
                    <div  class="row">
                        <div class="col-md-6 col-xs-6">
                            <input ng-model="study.observational_pmid" class="form-control" id="PMID"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  Main col  STUDIES ENV ####################################-->

        <!--#################################### Project Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #          #
                    #                        #  #          #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info ENV   #  #    here  #
                    #                        #  #          #
                    ##########################  ############
        -->
        
        <div class='col-lg-4' id="{{study.id}}_secpanel">
            <div class="row">
                <div class='col-lg-12'> 
                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                        <h3 style="color: white;">About study</h3>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Study type</label>
                                                <p style="color: white;">{{study.type}}</p>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Author</label>
                                                <p style="color: white;">{{study.observational_authors}}</p>
                                            </div>                
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Condition number</label>
                                                <p style="color: white;">{{study.conditions.length}}</p>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;" >Signature number</label>
                                                <p style="color: white;">{{study.signatures.length}}</p>
                                            </div>                
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label" style="color: white;">Tested chemical(s)</label>
                                    <table class="table table-bordered">
                                        <tr>
                                            <th style="color: white;text-align: center;">Chemical Name</th>
                                            <th style="color: white;text-align: center;">CAS number</th>
                                        </tr>
                                        <tr ng-repeat="obj in chemInfo" >
                                            <td style="color: white;">{{obj.name}}</td>
                                            <td style="color: white;">{{obj.cas}}</td>
                                        </tr>
                                    </table>
                                </div>   
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class='col-lg-12'> 
                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                        <h3 style="color: white;">Action</h3>
                                        <div class="row">
                                            <div class="row">
                                                <div style="margin-bottom:10px;" class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="dataset_update()">Update</button>
                                                </div>
                                                <div style="margin-bottom:10px;" class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="condition_add(dataset,study)">Add Condition</button>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <div class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="add_signature(dataset,study)">Add Signature</button>
                                                </div> 
                                                <div class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-warning" ng-click="study_del(dataset,study)">Delete study</button>
                                                </div>                
                                            </div>              
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  End Project Secondary panel  ##########################-->

        <div class ="row" ng-repeat="sign in :: study.signatures" id="{{study.id}}_sign" ng-if="study.type == 'observational'">
            <div class="col-lg-12">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                            <a data-toggle="collapse" data-parent="#accordion" href="#{{sign.id}}" target="_self" class="collapsed" style="text-decoration: none; color:white;">({{study.id}}) {{sign.id}} - {{sign.title}} <i class="fa fa-plus pull-right" id="{{sign.id}}_icon" aria-hidden="true"></i></a>
                    </div>
                    <div id="{{sign.id}}" class="panel-collapse collapse">
                        <div class="panel-body" id="paneltable">
                            <div class="row">

                                <!--####################################  Signature ENV Main panel  ##########################-->
                                <div class='col-lg-8'>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <label class="control-label"  for="description">Signature title</label>
                                            <input ng-model="sign.title" class="form-control" id="title"/>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" ng-repeat="cond in :: study.conditions" ng-if="sign.asso_cond == cond.id">
                                            <label class="control-label"  for="description">Condition title</label>
                                            <input class="form-control"  for="description" ng-model ="cond.title"/>
                                            <table ng-repeat="treatment in cond.treatment" ng-if="treatment.chemicals != {}" class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Population age</th>
                                                    <th style="text-align: center;">Sex</th>
                                                    <th style="text-align: center;">Geographic location</th>
                                                    <th style="text-align: center;">Reference</th>
                                                    <th style="text-align: center;">Matrice</th>
                                                    <th style="text-align: center;">Chemical</th>
                                                    <th style="text-align: center;">Dose</th>
                                                    <th style="text-align: center;">Exposure duration</th>
                                                    <th style="text-align: center;">Exposure frequency</th>
                                                    <th style="text-align: center;">Additional information</th>
                                                </tr>
                                                <tr ng-repeat="chem in treatment.chemicals">
                                                    <td><input ng-model="cond.population_age" class="form-control" /></td>
                                                    <td>
                                                        <select ng-model="sign.sex" class="form-control" id="sex" placeholder="Please select your organism sex">
                                                            <option value="" disabled selected>Please select</option>
                                                            <option value="male">Male</option>
                                                            <option value="ex_vivo">Female</option>
                                                            <option value="both">Both</option>
                                                            <option value="unknown">Unknown</option>
                                                            <option value="other">Other</option>
                                                            <option value="na">NA</option>
                                                        </select>
                                                    </td>
                                                    <td><input ng-model="cond.location" class="form-control" /></td>
                                                    <td><input ng-model="cond.ref" class="form-control" /></td>
                                                    <td><input ng-model="cond.matrice" class="form-control" /></td>
                                                    <td>
                                                        <input id="chemical" type="text" ng-model="chem.name" placeholder="Chemical"
                                                           typeahead-min-length="4" typeahead-on-select="selectchemical(sign,$item, $model,
                                                           $label)" typeahead="item.name for item in get_onto($viewValue,'chemical.tab')" value = "item.id" typeahead-loading="loadingOrganism"
                                                           class="form-control">
                                                    </td>
                                                    <td>
                                                        <input ng-model="chem.dose" class="form-control" />
                                                        <select  class="form-control" ng-model="chem.dose_unit"id="ec" >
                                                          <option value="" disabled selected>Select your unit</option>
                                                          <option value="mM">mM</option>
                                                          <option value="µM">µM</option>
                                                          <option value="nM">nM</option>
                                                          <option value="mgmL">mg/mL</option>
                                                          <option value="µgml">µg/ml</option>
                                                          <option value="ngmL">ng/mL</option>
                                                          <option value="mgkg">mg/kg</option>
                                                          <option value="µgkg">µg/kg</option>
                                                          <option value="ngkg">ng/kg</option>
                                                      </select>
                                                    </td>
                                                    <td>
                                                        <input step="any" ng-model="chem.exposure_duration" class="form-control" id="ec"/>
                                                        <select  class="form-control" ng-model="chem.exposure_duration_unit" id="ec" >
                                                          <option value="" disabled selected>Select your unit</option>
                                                          <option value="seconds">seconds</option>
                                                          <option value="minutes">minutes</option>
                                                          <option value="hours">hours</option>
                                                          <option value="days">days</option>
                                                      </select>
                                                    </td>
                                                    <td>
                                                        <input ng-model="chem.exposure_frequency" class="form-control" id="title"/>
                                                    </td>
                                                    <td><input ng-model="chem.info" class="form-control" /></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>

                                    <div class="row" ng-if="sign.env.length != 0">
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Organism</label>
                                            <input class="form-control" id="organism_vivo" type="text" ng-model="sign.organism" placeholder="Species"
                                            typeahead-min-length="4" typeahead-on-select="selectorga(sign,$item, $model,
                                            $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism" class="form-control" >
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Tissue</label>
                                            <input id="tissue_vivo" type="text" ng-model="sign.tissue" placeholder="Tissue"
                                             typeahead-min-length="4" typeahead-on-select="selecttissue(sign,$item, $model,
                                             $label)" typeahead="item.name for item in get_onto($viewValue,'tissue.tab')" typeahead-loading="loadingCellLine"
                                             class="form-control">
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Developmental stage</label>
                                            <select  ng-model="sign.devstage" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                                <option value="" disabled selected>Please select</option>
                                                <option value="Fetal">Fetal</option>
                                                <option value="Embryonic">Embryonic</option>
                                                <option value="Larva">Larva</option>
                                                <option value="Neo-natal">Neo-natal</option>
                                                <option value="Juvenile">Juvenile</option>
                                                <option value="Pre-pubertal">Pre-pubertal</option>
                                                <option value="Pubertal">Pubertal</option>
                                                <option value="Adulthood">Adulthood</option>
                                                <option value="Elderly">Elderly</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Generation</label>
                                            <select ng-model="sign.generation" class="form-control" id="generation">
                                                <option value="" disabled selected>Please select</option>
                                                <option value="f0">F0</option>
                                                <option value="f1">F1</option>
                                                <option value="f2">F2</option>
                                                <option value="f3">F3</option>
                                                <option value="f4">F4</option>
                                                <option value="f5">F5</option>
                                                <option value="f6">F6</option>
                                                <option value="f7">F7</option>
                                                <option value="f8">F8</option>
                                                <option value="f9">F9</option>
                                                <option value="f10">F10</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.env.length != 0" ng-repeat="env in sign.env">
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Outcome</label>
                                            <input ng-model="env.outcome" class="form-control" />
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Observed effects</label>
                                            <input ng-model="env.obs_effect" class="form-control" />
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Statistical significance</label>
                                            <p ng-if="env.statsign == undefined">No information available</p>
                                            <p ng-if="env.statsign != ''">{{env.statsign}}</p>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.env.length != 0" ng-repeat="env in sign.env">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Additional information</label>
                                            <textarea ng-model="env.expe_info" placeholder="50-500 words max" maxlength="5000" class="form-control" id="statistical"></textarea>

                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <textarea ng-model="env.other_stat" placeholder="50-500 words max" maxlength="5000" class="form-control" id="statistical"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label class="control-label">Additional information</label>
                                        <div ng-if="sign.supfiles.length > 0" style="text-decoration: none;color: black;">
                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                <div class="panel-body ">
                                                    <i class="fa fa-file fa-2x"></i><br>
                                                    <a ng-click="downloadsign(dataset.status,dataset.id,selectedstud,sign.asso_cond,selectedsign,sign.supfiles,user.id)">{{sign.supfiles[0]}}</a>
                                                </div>
                                                <div class="panel-footer back-footer-blue">
                                                    <div class="row">
                                                        <div class="col-lg-6">
                                                            <button class="btn btn-info" ngf-select="signature_upload($file, 3,sign,study.id,'info',sign)">Change file</button>
                                                        </div>
                                                        <div class="col-lg-6">
                                                            <button class="btn btn-warning" ng-click="deletefile(sign.supfiles,sign,study.id,sign.asso_cond,'info')"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div ng-if="sign.supfiles.length <= 0 || sign.supfiles == undefined" style="text-decoration: none;color: black;">
                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                <div class="panel-body ">
                                                    <i class="fa fa-upload fa-3x"></i>
                                                </div>
                                                <div class="panel-footer back-footer-blue">
                                                    <button class="btn btn-info" ngf-select="signature_upload($file, 3,sign,study.id,'info',sign)">Upload</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                                <!--#################################### END Signature ENV Main panel  ##########################-->

                                <!--####################################  Signature ENV Secondary panel  ##########################-->
                                <div class='col-lg-4' id="{{study.id}}_sign_secpanel">
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">About signature</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Signature type</label>
                                                                        <p ng-if="sign.env.length != 0" style="color: white;">Environmental signature</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Organism</label>
                                                                        <p style="color: white;">{{sign.organism}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Tissue / Cell</label>
                                                                        <p style="color: white;">{{sign.tissue}}</p>
                                                                    </div>                
                                                                </div>
                                                                <div class="row" ng-repeat="env in sign.env">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Outcome</label>
                                                                        <p style="color: white;">{{env.outcome}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;" ></label>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;" ></label>
                                                                    </div>                   
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">Action</h3>
                                                                <div class="row">
                                                                    <div class="col-lg-6">
                                                                        <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="dataset_update()">Update</button>
                                                                    </div>
                                                                    <div class="col-lg-6">
                                                                        <button  type="button" class="btn btn-warning" ng-click="signature_delete(dataset,study,sign)">Delete signature</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <!--####################################  END Signature ENV Secondary panel  ##########################-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  END Signature ENV upper panel  ##########################-->
        </div>
        </div>
        </div>



    </div>
    <!--####################################  End create row STUDIES ENV ####################################-->


    <!--####################################  create row STUDIES INT ####################################-->
    <div class="row panel-collapse collapse" ng-repeat="study in :: dataset.studies" id="{{study.id}}" ng-if="study.type == 'interventional'" id="{{sign.id}}" >

        <!--####################################  Main col  STUDIES INT ####################################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #    2nd   #
                    #                        #  #    panel #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info INT   #  #    2nd   #
                    #        u are here      #  #    panel #
                    ##########################  ############
        -->
        <div class="row">
            <div class="panel panel-success">
                    <div class="panel-heading">
                        {{study.id}} - {{study.interventional_title}}
                    </div>
                    <div class="panel-body">
        <div class='col-lg-8'>
            <div class="panel panel-success">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Title</label>
                            <input ng-model="study.interventional_title" class="form-control" id="title"/>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Description</label>
                            <textarea ng-model="study.interventional_description" class="form-control" id="description" placeholder="200-1000 words max"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Design</label>
                            <textarea ng-model="study.interventional_design" class="form-control" id="description" placeholder="200-1000 words max"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Result(s)</label>
                            <textarea ng-model="study.interventional_results" class="form-control" id="description" placeholder="200-1000 words max"></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Additionnal information</label>
                            <textarea ng-model="study.interventional_information" class="form-control" id="description" placeholder="50-500 words max" maxlength="5000" ></textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 ">
                            <label class="control-label"  for="description">Experimental type</label>
                            <select ng-model="study.interventional_experimental_type" class="form-control" placeholder="Please select your experimental type" id="experimental_type" disabled>
                                <option value="" disabled selected>Select your experimental type</option>
                                <option value="in_vivo">In vivo (e.g. in utero)</option>
                                <option value="ex_vivo">Ex vivo (e.g. organotypic culture, xenograft)</option>
                                <option value="in_vitro">In vitro (e.g. cell line, primary cell, yeast assay)</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Organism</label>
                            <input ng-if="study.interventional_experimental_type == 'in_vivo'" id="organism_vivo" type="text" ng-model="study.interventional_vivo.organism"  placeholder="Species"
                                           typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                           $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                                           class="form-control" >
                            <input ng-if="study.interventional_experimental_type == 'ex_vivo'" id="organism_vivo" type="text" ng-model="study.interventional_exvivo.organism"  placeholder="Species"
                                           typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                           $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                                           class="form-control" >
                            <input ng-if="study.interventional_experimental_type == 'in_vitro'" id="organism_vivo" type="text" ng-model="study.interventional_vitro.organism"  placeholder="Species"
                                           typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                           $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                                           class="form-control" >
                            <input ng-if="study.interventional_experimental_type == 'other'" id="organism_vivo" type="text" ng-model="study.interventional_other.organism"  placeholder="Species"
                                           typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                           $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                                           class="form-control" >
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Sex</label>
                            <select ng-if="study.interventional_experimental_type == 'in_vivo'" ng-model="study.interventional_vivo.sex" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="male">Male</option>
                                <option value="ex_vivo">Female</option>
                                <option value="both">Both</option>
                                <option value="unknown">Unknown</option>
                                <option value="other">Other</option>
                                <option value="na">NA</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'ex_vivo'" ng-model="study.interventional_exvivo.sex" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="male">Male</option>
                                <option value="ex_vivo">Female</option>
                                <option value="both">Both</option>
                                <option value="unknown">Unknown</option>
                                <option value="other">Other</option>
                                <option value="na">NA</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'in_vitro'" ng-model="study.interventional_vitro.sex" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="male">Male</option>
                                <option value="ex_vivo">Female</option>
                                <option value="both">Both</option>
                                <option value="unknown">Unknown</option>
                                <option value="other">Other</option>
                                <option value="na">NA</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'other'" ng-model="study.interventional_other.sex" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="male">Male</option>
                                <option value="ex_vivo">Female</option>
                                <option value="both">Both</option>
                                <option value="unknown">Unknown</option>
                                <option value="other">Other</option>
                                <option value="na">NA</option>
                            </select>
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Developmental stage</label>
                            <select ng-if="study.interventional_experimental_type == 'in_vivo'" ng-model="study.interventional_vivo.devstage" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="Fetal">Fetal</option>
                                <option value="Embryonic">Embryonic</option>
                                <option value="Larva">Larva</option>
                                <option value="Neo-natal">Neo-natal</option>
                                <option value="Juvenile">Juvenile</option>
                                <option value="Pre-pubertal">Pre-pubertal</option>
                                <option value="Pubertal">Pubertal</option>
                                <option value="Adulthood">Adulthood</option>
                                <option value="Elderly">Elderly</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'ex_vivo'" ng-model="study.interventional_exvivo.devstage" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="Fetal">Fetal</option>
                                <option value="Embryonic">Embryonic</option>
                                <option value="Larva">Larva</option>
                                <option value="Neo-natal">Neo-natal</option>
                                <option value="Juvenile">Juvenile</option>
                                <option value="Pre-pubertal">Pre-pubertal</option>
                                <option value="Pubertal">Pubertal</option>
                                <option value="Adulthood">Adulthood</option>
                                <option value="Elderly">Elderly</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'other'" ng-model="study.interventional_other.devstage" class="form-control" id="sex_vivo" placeholder="Please select your organism sex">
                                <option value="" disabled selected>Please select</option>
                                <option value="Fetal">Fetal</option>
                                <option value="Embryonic">Embryonic</option>
                                <option value="Larva">Larva</option>
                                <option value="Neo-natal">Neo-natal</option>
                                <option value="Juvenile">Juvenile</option>
                                <option value="Pre-pubertal">Pre-pubertal</option>
                                <option value="Pubertal">Pubertal</option>
                                <option value="Adulthood">Adulthood</option>
                                <option value="Elderly">Elderly</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Tissue</label>
                            <input ng-if="study.interventional_experimental_type == 'in_vitro'" id="tissue_vivo" type="text" ng-model="study.interventional_vitro.tissue" placeholder="Tissue"
                                                      typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                                      $label)" typeahead="item.name for item in get_onto($viewValue,'tissue.tab')" typeahead-loading="loadingCellLine"
                                                      class="form-control">
                            <input ng-if="study.interventional_experimental_type == 'ex_vivo'" id="tissue_vivo" type="text" ng-model="study.interventional_exvivo.tissue" placeholder="Tissue"
                                                      typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                                      $label)" typeahead="item.name for item in get_onto($viewValue,'tissue.tab')" typeahead-loading="loadingCellLine"
                                                      class="form-control">
                            <input ng-if="study.interventional_experimental_type == 'other'" id="tissue_vivo" type="text" ng-model="study.interventional_other.tissue" placeholder="Tissue"
                                                      typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,
                                                      $label)" typeahead="item.name for item in get_onto($viewValue,'tissue.tab')" typeahead-loading="loadingCellLine"
                                                      class="form-control">
                        </div>
                        <div class="col-md-4 ">
                            <label class="control-label"  for="description">Generation</label>
                            <select ng-if="study.interventional_experimental_type == 'in_vitro'" ng-model="study.interventional_vitro.generation" class="form-control" id="generation">
                                <option value="" disabled selected>Please select</option>
                                <option value="f0">F0</option>
                                <option value="f1">F1</option>
                                <option value="f2">F2</option>
                                <option value="f3">F3</option>
                                <option value="f4">F4</option>
                                <option value="f5">F5</option>
                                <option value="f6">F6</option>
                                <option value="f7">F7</option>
                                <option value="f8">F8</option>
                                <option value="f9">F9</option>
                                <option value="f10">F10</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'ex_vivo'" ng-model="study.interventional_exvivo.generation" class="form-control" id="generation">
                                <option value="" disabled selected>Please select</option>
                                <option value="f0">F0</option>
                                <option value="f1">F1</option>
                                <option value="f2">F2</option>
                                <option value="f3">F3</option>
                                <option value="f4">F4</option>
                                <option value="f5">F5</option>
                                <option value="f6">F6</option>
                                <option value="f7">F7</option>
                                <option value="f8">F8</option>
                                <option value="f9">F9</option>
                                <option value="f10">F10</option>
                            </select>
                            <select ng-if="study.interventional_experimental_type == 'other'" ng-model="study.interventional_other.generation" class="form-control" id="generation">
                                <option value="" disabled selected>Please select</option>
                                <option value="f0">F0</option>
                                <option value="f1">F1</option>
                                <option value="f2">F2</option>
                                <option value="f3">F3</option>
                                <option value="f4">F4</option>
                                <option value="f5">F5</option>
                                <option value="f6">F6</option>
                                <option value="f7">F7</option>
                                <option value="f8">F8</option>
                                <option value="f9">F9</option>
                                <option value="f10">F10</option>
                            </select>
                        </div>
                        <div class="col-md-4 " ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                            <label class="control-label"  for="description">In vitro experiment type</label>
                            <select  ng-if="study.interventional_experimental_type == 'in_vitro'" ng-model="study.interventional_vitro.experimental" class="form-control" placeholder="Please select your experimental type" id="experimental_type">
                                <option value="" disabled selected>Please select</option>
                                <option value="cell_line">Cell line</option>
                                <option value="primary_cell_culture">Primary cell culture</option>
                                <option value="yeast_assay">Yeast assay</option>
                                <option value="other">Other</option>
                            </select>
                            <select  ng-if="study.interventional_experimental_type == 'other'" ng-model="study.interventional_other.experimental" class="form-control" placeholder="Please select your experimental type" id="experimental_type" >
                                <option value="" disabled selected>Please select</option>
                                <option value="cell_line">Cell line</option>
                                <option value="primary_cell_culture">Primary cell culture</option>
                                <option value="yeast_assay">Yeast assay</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                    </div>
                    <div class="row" ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                        <div class="col-md-4 " ng-if="study.interventional_vitro.experimental =='cell_line' || study.interventional_other.experimental =='cell_line'">
                            <label class="control-label"  for="description">Cell line </label>
                            <input ng-if="study.interventional_experimental_type == 'in_vitro'"  id="organism_vivo" type="text" ng-model="study.interventional_vitro.cell_line" placeholder="Cell Line" typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,$label)" typeahead="item.name for item in get_onto($viewValue,'cell_line.tab')" typeahead-loading="loadingCellLine" class="form-control"/>
                            <input ng-if="study.interventional_experimental_type == 'other"  id="organism_vivo" type="text" ng-model="study.interventional_other.cell_line" placeholder="Cell Line" typeahead-min-length="4" typeahead-on-select="select(study,$item, $model,$label)" typeahead="item.name for item in get_onto($viewValue,'cell_line.tab')" typeahead-loading="loadingCellLine" class="form-control"/>
                        </div>
                        <div class="col-md-4" ng-if="study.interventional_vitro.experimental =='cell_line' || study.interventional_other.experimental =='cell_line'">
                            <label class="control-label"  for="description">Passage</label>
                            <input ng-if="study.interventional_experimental_type == 'in_vitro'" ng-model="study.interventional_vitro.passage" class="form-control" placeholder="Optionnal" id="passage"/>
                            <input ng-if="study.interventional_experimental_type == 'other'" ng-model="study.interventional_other.passage" class="form-control" placeholder="Optionnal" id="passage"/>
                        </div>
                    </div>
                    <div class="row" ng-if="study.interventional_experimental_type == 'other' || study.interventional_experimental_type == 'in_vitro'">
                        <div class="col-md-12 " ng-if="study.interventional_vitro.experimental =='primary_cell_culture' || study.interventional_other.experimental =='primary_cell_culture'">
                            <label class="control-label"  for="description">Cell name </label>
                            <input ng-if="study.interventional_experimental_type == 'in_vitro'" id="organism_vivo" type="text" ng-model="study.interventional_vitro.cell_name" placeholder="Cell"
                                        typeahead-min-length="4" typeahead-on-select="selectcell(study,$item, $model,
                                        $label)" typeahead="item.name for item in get_onto($viewValue,'cell.tab')" typeahead-loading="loadingCellLine"
                                        class="form-control">
                            <input ng-if="study.interventional_experimental_type == 'other'" id="organism_vivo" type="text" ng-model="study.interventional_other.cell_name" placeholder="Cell"
                                        typeahead-min-length="4" typeahead-on-select="selectcell(study,$item, $model,
                                        $label)" typeahead="item.name for item in get_onto($viewValue,'cell.tab')" typeahead-loading="loadingCellLine"
                                        class="form-control">
                        </div>
                    </div>
                </div>
                <div class="panel-footer">
                </div>
            </div>
        </div>
        <!--#################################### END Main col  STUDIES INT  ##############################-->


        <!--#################################### Study INT Secondary panel  ##############################-->
        <!--  
                    ##########################  ############
                    #                        #  #          #
                    #       Project info     #  #          #
                    #                        #  #          #
                    ##########################  ############

                    ##########################  ############
                    #                        #  #          #
                    #       Study info INT   #  #    here  #
                    #                        #  #          #
                    ##########################  ############
        -->
        <div class='col-lg-4' id="{{study.id}}_secpanel">
            <div class ="row">
                <div class="col-md-12">
                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                        <h3 style="color: white;">About study</h3>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Study type</label>
                                                <p style="color: white;">{{study.type}}</p>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Experimental type</label>
                                                <p style="color: white;" ng-if="study.interventional_experimental_type == 'in_vivo'">In vivo</p>
                                                <p style="color: white;" ng-if="study.interventional_experimental_type == 'ex_vivo'">Ex vivo</p>
                                                <p style="color: white;" ng-if="study.interventional_experimental_type == 'in_vitro'">In vitro</p>
                                                <p style="color: white;" ng-if="study.interventional_experimental_type == 'other'">Other type</p>
                                            </div>                
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;">Condition number</label>
                                                <p style="color: white;">{{study.conditions.length}}</p>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="control-label"  style="color: white;" >Signature number</label>
                                                <p style="color: white;">{{study.signatures.length}}</p>
                                            </div>                
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="control-label" style="color: white;">Tested chemical(s)</label>
                                    <table class="table table-bordered">
                                        <tr>
                                            <th style="color: white;text-align: center;">Chemical Name</th>
                                            <th style="color: white;text-align: center;">CAS number</th>
                                        </tr>
                                        <tr ng-repeat="obj in chemInfo" >
                                            <td style="color: white;">{{obj.name}}</td>
                                            <td style="color: white;">{{obj.cas}}</td>
                                        </tr>
                                    </table>
                                </div>   
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class ="row">
                <div class="col-md-12">
                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-color: #ffffff;">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel panel-success text-center no-boder" style="background-color: #93c54b;border-style: none;">
                                        <h3 style="color: white;">Action</h3>
                                        <div class="row">
                                            <div class="row">
                                                <div style="margin-bottom:10px;" class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="dataset_update()">Update</button>
                                                </div>
                                                <div style="margin-bottom:10px;" class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="condition_add(dataset,study)">Add Condition</button>
                                                </div>
                                            </div>
                                            <div class='row'>
                                                <div class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-info" ng-click="add_signature(dataset,study)">Add Signature</button>
                                                </div> 
                                                <div class="col-md-6 ">
                                                    <button ng-if="can_edit()" type="button" class="btn btn-warning" ng-click="study_del(dataset,study)">Delete study</button>
                                                </div>                
                                            </div>              
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  End Study INT Secondary panel  ##########################-->


        <!--####################################  Signature upper panel  ##########################-->
        <div class ="row" ng-repeat="sign in :: study.signatures" id="{{study.id}}_sign" ng-if="study.type == 'interventional'">
            <div class="col-lg-12">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                            <a data-toggle="collapse" data-parent="#accordion" href="#{{sign.id}}" target="_self" class="collapsed" style="text-decoration: none; color:white;">({{study.id}}) {{sign.id}} - {{sign.title}} <i class="fa fa-plus pull-right" id="{{sign.id}}_icon" aria-hidden="true"></i></a>
                    </div>
                    <div id="{{sign.id}}" class="panel-collapse collapse">
                        <div class="panel-body" id="paneltable">
                            <div class="row">

                                <!--####################################  Signature Main panel  ##########################-->
                                <div class='col-lg-8'>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <label class="control-label"  for="description">Signature title</label>
                                            <input ng-model="sign.title" class="form-control" id="title"/>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" ng-repeat="cond in :: study.conditions" ng-if="sign.asso_cond == cond.id">
                                            <label class="control-label"  for="description">Condition title</label>
                                            <input class="form-control"  for="description" ng-model ="cond.title"/>
                                            <table ng-repeat="treatment in cond.treatment" ng-if="treatment.chemicals != {}" class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">#</th>
                                                    <th style="text-align: center;">Chemical</th>
                                                    <th style="text-align: center;">Vehicle</th>
                                                    <th style="text-align: center;">Route</th>
                                                    <th style="text-align: center;">Dose</th>
                                                    <th style="text-align: center;">Exposure duration</th>
                                                    <th style="text-align: center;">Exposure frequency</th>
                                                    <th style="text-align: center;">Additional information</th>
                                                </tr>
                                                <tr ng-repeat="chem in treatment.chemicals">
                                                    <td>{{$index +1}}</td>
                                                    <td>
                                                        <input id="chemical" type="text" ng-model="chem.name" placeholder="Chemical"
                                                       typeahead-min-length="4" typeahead-on-select="selectchemical(sign,$item, $model,
                                                       $label)" typeahead="item.name for item in get_onto($viewValue,'chemical.tab')" value = "item.id" typeahead-loading="loadingOrganism"
                                                       class="form-control">
                                                    </td>
                                                    <td><input ng-model="chem.vehicle" class="form-control" id="ec"/></td>
                                                    <td>
                                                        <select  ng-model="chem.route" class="form-control" placeholder="Please select your experimental type" id="ec" >
                                                          <option value="" disabled selected>Select your route</option>
                                                          <option value="oral gavage">Oral gavage</option>
                                                          <option value="gastric gavage">Gastric gavage</option>
                                                          <option value="intravenous">Intravenous</option>
                                                          <option value="epicutaneous">Epicutaneous</option>
                                                          <option value="intradermal">Intradermal</option>
                                                          <option value="subcutaneous">Subcutaneous</option>
                                                          <option value="transdermal">Transdermal</option>
                                                          <option value="intramuscular">Intramuscular</option>
                                                          <option value="transcorneal">Transcorneal</option>
                                                          <option value="intraocular">Intraocular</option>
                                                          <option value="intracerebral">Intracerebral</option>
                                                          <option value="epidural">Epidural</option>
                                                          <option value="intrathecal">Intrathecal</option>
                                                          <option value="intraperitoneal">Intraperitoneal</option>
                                                          <option value="intraosseous">Intraosseous</option>
                                                          <option value="intranasal">Intranasal</option>
                                                          <option value="intratracheal">Intratracheal</option>
                                                          <option value="inhalation">Inhalation</option>
                                                          <option value="Medium">Medium</option>
                                                          <option value="na">NA</option>
                                                          <option value="other">Other</option>
                                                      </select>
                                                    </td>
                                                    <td>
                                                        <input id="ec" step="any" class="form-control" type="text" ng-model="chem.dose" placeholder="Dose"/>
                                                        <select  class="form-control" ng-model="chem.dose_unit"id="ec" >
                                                          <option value="" disabled selected>Select your unit</option>
                                                          <option value="mM">mM</option>
                                                          <option value="µM">µM</option>
                                                          <option value="nM">nM</option>
                                                          <option value="mgmL">mg/mL</option>
                                                          <option value="µgml">µg/ml</option>
                                                          <option value="ngmL">ng/mL</option>
                                                          <option value="mgkg">mg/kg</option>
                                                          <option value="µgkg">µg/kg</option>
                                                          <option value="ngkg">ng/kg</option>
                                                      </select>
                                                    </td>
                                                    <td>
                                                        <input step="any" ng-model="chem.exposure_duration" class="form-control" id="ec"/>
                                                        <select  class="form-control" ng-model="chem.exposure_duration_unit" id="ec" >
                                                          <option value="" disabled selected>Select your unit</option>
                                                          <option value="seconds">seconds</option>
                                                          <option value="minutes">minutes</option>
                                                          <option value="hours">hours</option>
                                                          <option value="days">days</option>
                                                      </select>
                                                    </td>
                                                    <td><input id="ec" class="form-control" ng-model="chem.exposure_frequency" placeholder="Exposure frequency"></td>
                                                    <td><textarea ng-model="chem.info" class="form-control" id="results" placeholder="50-500 words max" maxlength="5000" ></textarea></td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Organism</label>
                                            <input id="signorganism_vivo" type="text" ng-model="sign.organism"  placeholder="Species"
                                           typeahead-min-length="4" typeahead-on-select="selectorga(sign,$item, $model,
                                           $label)" typeahead="item.name for item in get_onto($viewValue,'species.tab')" typeahead-loading="loadingOrganism"
                                           class="form-control" >
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Tissue</label>
                                            <input id="tissue_sign" type="text" ng-model="sign.tissue" placeholder="Tissue"
                                                      typeahead-min-length="4" typeahead-on-select="selecttissue(sign,$item, $model,
                                                      $label)" typeahead="item.name for item in get_onto($viewValue,'tissue.tab')" typeahead-loading="loadingCellLine"
                                                      class="form-control">
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Developmental stage</label>
                                            <select ng-model="sign.devstage" class="form-control" id="sexsign_vivo" placeholder="Please select your organism sex">
                                                <option value="" disabled selected>Please select</option>
                                                <option value="Fetal">Fetal</option>
                                                <option value="Embryonic">Embryonic</option>
                                                <option value="Larva">Larva</option>
                                                <option value="Neo-natal">Neo-natal</option>
                                                <option value="Juvenile">Juvenile</option>
                                                <option value="Pre-pubertal">Pre-pubertal</option>
                                                <option value="Pubertal">Pubertal</option>
                                                <option value="Adulthood">Adulthood</option>
                                                <option value="Elderly">Elderly</option>
                                            </select>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Generation</label>
                                            <select ng-model="sign.generation" class="form-control" id="generation">
                                                <option value="" disabled selected>Please select</option>
                                                <option value="f0">F0</option>
                                                <option value="f1">F1</option>
                                                <option value="f2">F2</option>
                                                <option value="f3">F3</option>
                                                <option value="f4">F4</option>
                                                <option value="f5">F5</option>
                                                <option value="f6">F6</option>
                                                <option value="f7">F7</option>
                                                <option value="f8">F8</option>
                                                <option value="f9">F9</option>
                                                <option value="f10">F10</option>
                                            </select>
                                        </div>
                                    </div>

                                    <!--#################################### Signature Physio ##########################-->
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="physio in sign.physio">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Observed phenotype</label>
                                            <input id="tissue_vivo" type="text" ng-model="physio.asso" placeholder="Associated effect"
                                                               typeahead-min-length="4" typeahead-on-select="selectdisease(sign,$item, $model,
                                                               $label)" typeahead="item.name for item in get_onto($viewValue,'disease.tab')" typeahead-loading="loadingCellLine"
                                                               class="form-control">
                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Effect</label>
                                            <select  class="form-control" ng-model="physio.obs_effect" id="ec" >
                                                <option value="" disabled selected>Select your unit</option>
                                                <option value="Increase">Increase</option>
                                                <option value="Decrease">Decrease</option>
                                                <option value="noeffect">No effect</option>
                                                <option value="na">NA</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="physio in sign.physio">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Experimental information</label>
                                            <textarea ng-model="physio.expe_info" placeholder="50-500 words max" maxlength="5000" class="form-control" id="extractproto"/></textarea>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.physio.length != 0" ng-repeat="physio in sign.physio">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">Fold-change</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <input step="any"  ng-model="physio.sample" class="form-control" id="sample"/>
                                                    </td>
                                                    <td>
                                                        <input ng-model="physio.control" class="form-control" id="control"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="physio.fc" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="physio.pvalue" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <textarea ng-model="physio.statistical" placeholder="50-500 words max" maxlength="5000" class="form-control" id="statistical"></textarea>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature Physio ##########################-->

                                    <!--#################################### Signature mol ##########################-->
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecular">
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Extracted molecule</label>
                                            <input id="extractedmolecule" type="text" ng-model="mol.extractedmolecule" placeholder="Extracted molecule"
                                             typeahead-min-length="4" typeahead-on-select="selectmol(sign,$item, $model,
                                             $label)" typeahead="item.name for item in get_onto($viewValue,'chemical.tab')" typeahead-loading="loadingOrganism"
                                             class="form-control">
                                        </div>
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Observed effect(s)</label>
                                            <textarea ng-model="mol.expe_info" placeholder="50-500 words max" maxlength="5000" class="form-control" id="extractproto"/></textarea>
                                        </div>
                                        <div class="col-md-3 ">
                                            <label class="control-label"  for="description">Effect</label>
                                            <select  class="form-control" ng-model="mol.obs_effect" id="ec" >
                                              <option value="" disabled selected>Select your unit</option>
                                              <option value="Increase">Increase</option>
                                              <option value="Decrease">Decrease</option>
                                              <option value="noeffect">No effect</option>
                                              <option value="na">NA</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecular">
                                        <div class="col-md-6 ">
                                            <label class="control-label"  for="description">Extraction protocol</label>
                                            <textarea ng-model="mol.extractproto" placeholder="50-500 words max" maxlength="5000" class="form-control" id="extractproto"/></textarea>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.molecular.length != 0" ng-repeat="mol in sign.molecula">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">Fold-change</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <input step="any"  ng-model="mol.sample" class="form-control" id="sample"/>
                                                    </td>
                                                    <td>
                                                        <input ng-model="mol.control" class="form-control" id="control"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="mol.fc" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="mol.pvalue" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <textarea ng-model="mol.statistical" placeholder="50-500 words max" maxlength="5000" class="form-control" id="statistical"></textarea>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature mol ##########################-->

                                    <!--#################################### Signature gen ##########################-->
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Technology used</label>
                                            <input id="tissue_vivo" type="text" ng-model="geno.techno" placeholder="Technology"
                                                             typeahead-min-length="4" typeahead-on-select="selecttechno(sign,$item, $model,
                                                             $label)" typeahead="item.name for item in get_onto($viewValue,'experiment.tab')" typeahead-loading="loadingCellLine"
                                                             class="form-control">
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Plateform</label>
                                             <input class="form-control" id="tissue_vivo" type="text" ng-model="geno.plateform" placeholder="Plateform">
                                        </div>
                                        <div class="col-md-4 ">
                                            <label class="control-label"  for="description">Genes identifier</label>
                                            <select  class="form-control" ng-model="geno.obs_effect" id="ec" >
                                              <option value="" disabled selected>Select your Type</option>
                                              <option value="Swissprot" disabled>Swissprot ID</option>
                                              <option value="Uniprot" disabled>Ensembl ID</option>
                                              <option value="Entrez">Entrez Gene ID</option>
                                              <option value="Vegatrans" disabled>Vega Transcript ID</option>
                                              <option value="VegaPep" disabled>Vega Peptide ID</option>
                                              <option value="VegaGene" disabled>Vega Gene ID</option>
                                          </select>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Experimental information</label>
                                            <textarea ng-model="geno.expe_info" placeholder="50-500 words max" maxlength="5000" class="form-control" id="extractproto"/></textarea>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                        <div class="col-md-12 ">
                                            <label class="control-label"  for="description">Statistical information</label>
                                            <table class="table table-bordered table-hover table-striped">
                                                <tr>
                                                    <th style="text-align: center;">Number of exposed samples</th>
                                                    <th style="text-align: center;">Number of control samples</th>
                                                    <th style="text-align: center;">Fold-change</th>
                                                    <th style="text-align: center;">P-value cutoff</th>
                                                    <th style="text-align: center;">Data processing</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <input step="any"  ng-model="geno.sample" class="form-control" id="sample"/>
                                                    </td>
                                                    <td>
                                                        <input ng-model="geno.control" class="form-control" id="control"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="geno.fc" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <input step="any"  ng-model="geno.pvalue" class="form-control" id="fc"/>
                                                    </td>
                                                    <td>
                                                        <textarea ng-model="geno.statistical" placeholder="50-500 words max" maxlength="5000" class="form-control" id="statistical"></textarea>
                                                    </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <label class="control-label">Additional information</label>
                                            <div ng-if="sign.supfiles.length > 0" style="text-decoration: none;color: black;">
                                                <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                    <div class="panel-body ">
                                                        <i class="fa fa-file fa-2x"></i><br>
                                                        <a ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,sign.supfiles,user.id)">{{sign.supfiles[0]}}</a>
                                                    </div>
                                                    <div class="panel-footer back-footer-blue">
                                                        <div class="row">
                                                            <div class="col-lg-6">
                                                                <button class="btn btn-info" ngf-select="signature_upload($file, 3,sign,study.id,'info')">Change file</button>
                                                            </div>
                                                            <div class="col-lg-6">
                                                                <button class="btn btn-warning" ng-click="deletefile(sign.supfiles,sign,study.id,sign.asso_cond,'info')"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div ng-if="sign.supfiles.length <= 0 || sign.supfiles == undefined" style="text-decoration: none;color: black;">
                                                <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                    <div class="panel-body ">
                                                        <i class="fa fa-upload fa-3x"></i>
                                                    </div>
                                                    <div class="panel-footer back-footer-blue">
                                                        <button class="btn btn-info " ngf-select="signature_upload($file, 3,sign,study.id,'info')">Upload</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!--#################################### END Signature gen ##########################-->


                                </div>
                                <!--#################################### END Signature Main panel  ##########################-->

                                <!--####################################  Signature Secondary panel  ##########################-->
                                <div class='col-lg-4' id="{{study.id}}_sign_secpanel">
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">About signature</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Signature type</label>
                                                                        <p ng-if="sign.genomic.length != 0" style="color: white;">Toxicogenomics signature</p>
                                                                        <p ng-if="sign.molecular.length != 0" style="color: white;">Molecular signature</p>
                                                                        <p ng-if="sign.physio.length != 0" style="color: white;">Physiological signature</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Organism</label>
                                                                        <p style="color: white;">{{sign.organism}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Tissue / Cell</label>
                                                                        <p style="color: white;">{{sign.tissue}}</p>
                                                                    </div>                
                                                                </div>
                                                                <div class="row">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Generation</label>
                                                                        <p style="color: white;">{{sign.generation}}</p>
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"  style="color: white;">Developmental stage</label>
                                                                        <p style="color: white;">{{sign.devstage}}</p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">Action</h3>
                                                                <div class="row">
                                                                    <div class="col-lg-6">
                                                                        <button type="button" class="btn btn-info" ng-click="dataset_update()">Update</button>
                                                                    </div>
                                                                    <div class="col-lg-6">
                                                                        <button  type="button" class="btn btn-warning" ng-click="signature_delete(dataset,study,sign)">Delete signature</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" ng-if="sign.genomic.length != 0">
                                        <div class='col-lg-12'>
                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                <div class="panel-body">
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                <h3 style="color: white;">Signatures</h3>
                                                                <div class="row">
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                                                        <label class="control-label"  style="color: white;">Up-regulated information file</label>
                                                                        <div ng-if="sign.files.indexOf('genomic_upward.txt') !== -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i><br>
                                                                                    <a ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_upward.txt',user.id)">Up-regulated</a>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <div class="row">
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-info" ngf-select="signature_upload($file, 0,sign,study.id,geno)">Change file</button>
                                                                                        </div>
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-warning" ng-click="deletefile('genomic_upward.txt',sign,study.id,sign.asso_cond,'genomic',sign)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div ng-if="sign.files.indexOf('genomic_upward.txt') == -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-upload fa-3x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <button class="btn btn-info" ngf-select="signature_upload($file, 0,sign,study.id,geno)">Upload</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                                                        <label class="control-label"  style="color: white;">Down-regulated information file</label>
                                                                        <div ng-if="sign.files.indexOf('genomic_downward.txt') !== -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i><br>
                                                                                    <a  ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_downward.txt',user.id)">Down-regulated </a>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <div class="row">
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-info" ngf-select="signature_upload($file, 1,sign,study.id,geno)">Change file</button>
                                                                                        </div>
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-warning" ng-click="deletefile('genomic_downward.txt',sign,study.id,sign.asso_cond,'genomic',sign)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div ng-if="sign.files.indexOf('genomic_downward.txt') == -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-upload fa-3x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <button class="btn btn-info" ngf-select="signature_upload($file, 1,sign,study.id,geno)">Upload</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-md-4" ng-if="sign.genomic.length != 0" ng-repeat="geno in sign.genomic">
                                                                        <label class="control-label"  style="color: white;">Interrogated genes information file</label>
                                                                        <div ng-if="sign.files.indexOf('genomic_interrogated_genes.txt') !== -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-file fa-2x"></i><br>
                                                                                    <a ng-click="downloadsign(dataset.status,dataset.id,study.id,sign.asso_cond,sign.id,'genomic_interrogated_genes.txt',user.id)">Interrogated</a>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <div class="row">
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-info" ngf-select="signature_upload($file, 2,sign,study.id,geno)">Change file</button>
                                                                                        </div>
                                                                                        <div class="col-lg-6">
                                                                                            <button class="btn btn-warning" ng-click="deletefile('genomic_interrogated_genes.txt',sign,study.id,sign.asso_cond,'genomic',sign)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div ng-if="sign.files.indexOf('genomic_interrogated_genes.txt') == -1" style="text-decoration: none;color: black;">
                                                                            <div class="panel panel-primary text-center no-boder bg-color-blue boxstud">
                                                                                <div class="panel-body ">
                                                                                    <i class="fa fa-upload fa-3x"></i>
                                                                                </div>
                                                                                <div class="panel-footer back-footer-blue">
                                                                                    <button class="btn btn-info" ngf-select="signature_upload($file, 2,sign,study.id,geno)">Upload</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div> 
                                                                </div>
                                                            </div>
                                                            <div class="row" ng-if="sign.genomic.length != 0 && (sign.gene_down != '' || sign.gene_up !='')">
                                                                <div class='col-lg-12'>
                                                                    <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-color: #ffffff;">
                                                                        <div class="panel-body">
                                                                            <div class="row">
                                                                                <div class="col-md-12">
                                                                                    <div class="panel panel-danger text-center no-boder" style="background-color: #d9534f;border-style: none;">
                                                                                        <h3 style="color: white;">Tools</h3>
                                                                                        <div class="row" >
                                                                                            <div class="col-md-4">
                                                                                                <form style="margin-top:20px;">
                                                                                                    <ul class="list-inline pull-left">
                                                                                                        <li><button  type="button" class="btn btn-info" ng-click="add_todash(sign.id,dataset)">+ dashboard</button></li>
                                                                                                    </ul>
                                                                                                </form>
                                                                                            </div>
                                                                                            <div class="col-md-4">
                                                                                                <form style="margin-top:20px;">
                                                                                                    <ul class="list-inline pull-left">
                                                                                                        <li><button  type="button" class="btn btn-info" ng-click="functional(sign.id,dataset.id)">Functional analysis</button></li>
                                                                                                    </ul>
                                                                                                </form>
                                                                                            </div>
                                                                                            <div class="col-md-4">
                                                                                                <form style="margin-top:20px;">
                                                                                                    <ul class="list-inline pull-left">
                                                                                                        <li><button  type="button" class="btn btn-info" ng-click="dist(sign.id,dataset.id)">Distance analysis</button></li>
                                                                                                    </ul>
                                                                                                </form>
                                                                                            </div> 
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!--####################################  END Signature Secondary panel  ##########################-->
                            </div>
                        </div>
                        <div class="row" id="{{sign.id}}_functional" style="display:none;">
                            <div class="col-md-12">
                                <div  class="panel panel-success">
                                    <div class="panel-heading">
                                        <a style="color:white;" href="" ng-click="showDetails = ! showDetails" >({{study.id}} - {{sign.id}}) - Functional analysis</a>
                                    </div>
                                    <div class="panel-body" id="paneltable" ng-show="showDetails">

                                        <div  class="panel panel-info">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="bp = ! bp">Biological Process</a>
                                            </div>
                                            <div class="panel-body" id="bp" ng-show="bp">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="conditionTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-primary">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="cc = ! cc">Cellular component</a>
                                            </div>
                                            <div class="panel-body" id="cc" ng-show="cc">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="ccTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-warning">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="mf = ! mf">Molecular function</a>
                                            </div>
                                            <div class="panel-body" id="mf" ng-show="mf">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="MfTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>

                                        <div  class="panel panel-danger">
                                            <div class="panel-heading">
                                                <a style="color:white;" href="" ng-click="ph = ! ph">Phenotypes</a>
                                            </div>
                                            <div class="panel-body" id="ph" ng-show="ph">
                                                <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                                  <i class="glyphicon glyphicon-new-window"></i> Export
                                                </a>
                                                <table ng-table="dsTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                                    <tr ng-repeat="val in $data">
                                                        <td data-title="'Term'" filter="{Term: 'text'}"><a href="" ng-click="showInfo(val)">{{val.Term}}</a></td>
                                                        <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                        <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                        <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                        <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                        <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                        <td data-title="'Pvalue'" sortable="'pvalue'">{{val.pvalue}}</td>
                                                        <td data-title="'Adjusted Pvalue (Benjamini-Hochberg)'" sortable="'pbh'">{{val.pbh}}</td>
                                                    </tr>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" id="{{sign.id}}_dist" style="display:none;">
                            <div class="col-md-12">
                                <div  class="panel panel-success">
                                    <div class="panel-heading">
                                        <a style="color:white;" href="" ng-click="showDetails2 = ! showDetails2" >({{study.id}} - {{sign.id}}) - Distance analysis</a>
                                    </div>
                                    <div class="panel-body" id="paneltable" ng-show="showDetails2">
                                        <a class="btn" title="Export Table" ng-click="csv.generate()" ng-href="{{ csv.link() }}" download="myTable.txt">
                                          <i class="glyphicon glyphicon-new-window"></i> Export
                                        </a>
                                        <table ng-table="distTable"  show-filter="true" class="table table-striped" export-csv="csv" separator=";" export-csv-ignore="ignore">
                                            <tr ng-repeat="val in $data">
                                                <td data-title="'Signature'" filter="{Term: 'text'}"><a href="http://toxsign.genouest.org/app/#/browse?dataset={{val.project}}" target="_blank">{{val.Term}}</a></td>
                                                <td data-title="'r'" sortable="'r'">{{val.r}}</td>
                                                <td data-title="'R'" sortable="'R'">{{val.R}}</td>
                                                <td data-title="'n'" sortable="'n'">{{val.n}}</td>
                                                <td data-title="'N'" sortable="'N'">{{val.N}}</td>
                                                <td data-title="'Ratio'" sortable="'rR'">{{Math.round(val.rR *100)}} %</td>
                                                <td data-title="'Pvalue'" sortable="'pval'">{{val.pval}}</td>
                                                <td data-title="'Zscore'" sortable="'zscore'">{{val.zscore}}</td>
                                                <td data-title="'Euclidean distance'" sortable="'euclid'">{{val.euclid}}</td>
                                                <td data-title="'Correlation coefficient'" sortable="'cor'">{{val.cor}}</td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--####################################  END Signature upper panel  ##########################-->
        </div>
        </div>
        </div>
    </div>
</div>
<!--#################################### END of User page #######################################-->